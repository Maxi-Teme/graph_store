syntax = "proto3";
package sync_graph;

service SyncGraph {
  rpc AddRemote (AddRemoteRequest) returns (ProcessResponse);
  rpc AddEdge (AddEdgeRequest) returns (ProcessResponse);
  rpc RemoveEdge (RemoveEdgeRequest) returns (ProcessResponse);
  rpc AddNode (AddNodeRequest) returns (ProcessResponse);
  rpc RemoveNode (RemoveNodeRequest) returns (ProcessResponse);
}

enum ResponseType {
  OK = 0;
  RETRY = 1;
  ERROR = 2;
}

message ProcessResponse {
  ResponseType response_type = 1;
}

message AddRemoteRequest {
  string address = 1;
}

message AddEdgeRequest {
  bytes from = 1;
  bytes to = 2;
  bytes edge = 3;
}

message RemoveEdgeRequest {
  bytes from = 1;
  bytes to = 2;
}

message AddNodeRequest {
  bytes key = 1;
  bytes node = 2;
}

message RemoveNodeRequest {
  bytes key = 1;
}
